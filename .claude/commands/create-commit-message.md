---
description: Git差分からコミットメッセージを生成します
argument-hint: [reviewer]
---

# コミットメッセージ生成

Git差分を分析して、プロジェクトの形式に沿った日本語のコミットメッセージを生成します。

## 引数

- 第1引数（オプション）: レビュアー名（例: `@username`）
  - 指定された場合: `Reviewer:` 行を含めるレビュー修正コミット形式
  - 指定なしの場合: 通常のコミット形式

## 実行手順

### 1. 変更内容の確認

以下のコマンドを実行して、ステージングされた変更を確認します：

```bash
git diff --cached
```

**エラーチェック**:
- 差分が空の場合は「ステージングされた変更がありません。`git add`でファイルをステージングしてください。」と報告して終了

### 2. コミットメッセージの生成

変更内容を分析し、以下の形式でコミットメッセージを生成します：

#### 基本形式

```
[タイトル行]

[何ができるようになったか、または何が改善されたか]

変更内容：
- [変更1]
- [変更2]
- [変更3]

(レビュアーが指定されている場合のみ)
Reviewer: [レビュアー名]

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>
```

#### 重要なポイント

- **タイトル行**: 簡潔に（50文字以内推奨）
- **何ができるようになったか**: 必ず記述
  - 新機能: 「〇〇機能により、△△が可能になりました」
  - バグ修正: 「〇〇の修正により、△△が正しく動作するようになりました」
  - リファクタリング: 「〇〇のリファクタリングにより、△△が改善されました」
- **変更内容**: 箇条書きで具体的に記述
- **日本語**: 全て日本語で記述（プロジェクトCLAUDE.mdに準拠）
- **レビュアー情報**: 引数で指定された場合のみ含める

### 3. 出力

生成したコミットメッセージをコードブロックで表示します。

## 使用例

### 通常のコミット
```
/create-commit-message
```

### レビュー修正コミット
```
/create-commit-message @reviewer-name
```
