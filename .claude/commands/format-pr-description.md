---
description: コミット履歴からPR説明を生成します
argument-hint: [base] [compare]
---

# PR説明生成

コミット履歴を分析して、GitHub Pull Requestの説明文を生成します。

## 引数

- 第1引数: compareブランチ（例: `feature-branch`）
- 第2引数: baseブランチ（例: `main`）

## 実行手順

### 1. 差分情報の収集

以下のコマンドを並列実行して差分情報を収集します：

#### コミット履歴の取得

```bash
git log {base}...{compare} --oneline
```

このコマンドはbaseブランチからcompareブランチまでのコミット履歴を1行ずつ表示します。

#### 変更ファイル統計の取得

```bash
git diff {base}...{compare} --stat
```

このコマンドは変更されたファイルとその行数の統計を表示します。

#### 詳細な差分の取得

```bash
git diff {base}...{compare}
```

このコマンドはbaseブランチからcompareブランチまでの詳細な差分を表示します。

### 2. テンプレートの読み込み

`.github/pull_request_template.md`を読み込み、出力形式のベースとして使用します。

### 3. PR説明の生成

収集した情報を分析し、テンプレートに沿ってPR説明を生成します。

テンプレートの各セクションに対して：
- **関連 Issue**: ユーザーが後で記入するため、そのまま残す
- **変更内容**: コミット履歴とdiffから変更内容を要約し、どんな意図で何を変更したのかをレビュワーに伝わるように記述
- **スクリーンショット等**: ユーザーが後で記入するため、そのまま残す
- **TODO**: ユーザーが後で記入するため、そのまま残す（積み残しがある場合）

### 4. 出力

生成したPR説明をコードブロックで表示します。

## 使用例

```
/format-pr-description feature-branch main
```
